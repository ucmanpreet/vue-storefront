{"code":"import { __awaiter, __generator } from \"tslib\";\r\nimport { useBillingFactory } from '@vue-storefront/core';\r\nimport { useCart } from '../useCart';\r\nvar params = {\r\n    provide: function () {\r\n        return {\r\n            cart: useCart(),\r\n        };\r\n    },\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    load: function (context, _a) {\r\n        var customQuery = _a.customQuery;\r\n        return __awaiter(void 0, void 0, void 0, function () {\r\n            return __generator(this, function (_b) {\r\n                console.log('Mocked: useBilling.load');\r\n                return [2 /*return*/, null];\r\n            });\r\n        });\r\n    },\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    save: function (context, _a) {\r\n        var params = _a.params, billingDetails = _a.billingDetails, customQuery = _a.customQuery;\r\n        return __awaiter(void 0, void 0, void 0, function () {\r\n            var excludeIndex, shippingAddress, key, paramDetails, saveBillingResults, paymentMethods;\r\n            var _b, _c, _d, _e, _f, _g, _h, _j;\r\n            return __generator(this, function (_k) {\r\n                switch (_k.label) {\r\n                    case 0:\r\n                        console.log('Mocked: useBilling.save');\r\n                        excludeIndex = ['customerId', 'cartId', 'orderId', 'shippingRates', 'id', 'addressType', 'additional', 'gender', 'defaultAddress', 'vatId', 'createdAt', 'updatedAt', '__typename'];\r\n                        shippingAddress = (_c = (_b = context.cart) === null || _b === void 0 ? void 0 : _b.cart.value) === null || _c === void 0 ? void 0 : _c.shippingAddress;\r\n                        for (key in shippingAddress) {\r\n                            if (excludeIndex.includes(key)) {\r\n                                delete shippingAddress[key];\r\n                            }\r\n                        }\r\n                        paramDetails = {\r\n                            type: 'billing',\r\n                            shipping: shippingAddress,\r\n                            billing: billingDetails,\r\n                            shippingAddressId: 0,\r\n                            billingAddressId: parseInt(params === null || params === void 0 ? void 0 : params.billingAddressId) || 0\r\n                        };\r\n                        return [4 /*yield*/, context.$bagisto.api.saveShippingAddress(paramDetails)];\r\n                    case 1:\r\n                        saveBillingResults = _k.sent();\r\n                        if (!!(saveBillingResults === null || saveBillingResults === void 0 ? void 0 : saveBillingResults.data)) return [3 /*break*/, 4];\r\n                        return [4 /*yield*/, context.cart.setCart(null)];\r\n                    case 2:\r\n                        _k.sent();\r\n                        return [4 /*yield*/, context.cart.load()];\r\n                    case 3:\r\n                        _k.sent();\r\n                        _k.label = 4;\r\n                    case 4:\r\n                        paymentMethods = (_e = (_d = saveBillingResults === null || saveBillingResults === void 0 ? void 0 : saveBillingResults.data) === null || _d === void 0 ? void 0 : _d.saveCheckoutAddresses) === null || _e === void 0 ? void 0 : _e.paymentMethods;\r\n                        if (!((_g = (_f = saveBillingResults === null || saveBillingResults === void 0 ? void 0 : saveBillingResults.data) === null || _f === void 0 ? void 0 : _f.paymentMethods) === null || _g === void 0 ? void 0 : _g.cart)) return [3 /*break*/, 6];\r\n                        context.cart.setCart((_j = (_h = saveBillingResults === null || saveBillingResults === void 0 ? void 0 : saveBillingResults.data) === null || _h === void 0 ? void 0 : _h.paymentMethods) === null || _j === void 0 ? void 0 : _j.cart);\r\n                        return [4 /*yield*/, context.cart.load()];\r\n                    case 5:\r\n                        _k.sent();\r\n                        _k.label = 6;\r\n                    case 6: return [2 /*return*/, paymentMethods ? paymentMethods : null];\r\n                }\r\n            });\r\n        });\r\n    }\r\n};\r\nexport var useBilling = useBillingFactory(params);\r\n//# sourceMappingURL=index.js.map","references":["/home/ucodesoft/Desktop/Adiamor/bagisto_vuestore/vuestorefront/node_modules/@vue-storefront/core/lib/src/index.d.ts","/home/ucodesoft/Desktop/Adiamor/bagisto_vuestore/vuestorefront/node_modules/@vue-storefront/bagisto-api/lib/index.d.ts","/home/ucodesoft/Desktop/Adiamor/bagisto_vuestore/vuestorefront/packages/composables/src/useCart/index.ts","/home/ucodesoft/Desktop/Adiamor/bagisto_vuestore/vuestorefront/packages/composables/src/types.ts"],"map":"{\"version\":3,\"file\":\"index.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/useBilling/index.ts\"],\"names\":[],\"mappings\":\";AAAA,OAAO,EAEL,iBAAiB,EAElB,MAAM,sBAAsB,CAAC;AAE9B,OAAO,EAAE,OAAO,EAAE,MAAM,YAAY,CAAC;AAKrC,IAAM,MAAM,GAAgD;IAC1D,OAAO;QACL,OAAO;YACL,IAAI,EAAE,OAAO,EAAE;SAChB,CAAC;IACJ,CAAC;IACD,6DAA6D;IAC7D,IAAI,EAAE,UAAO,OAAgB,EAAE,EAAe;YAAb,WAAW,iBAAA;;;gBAC1C,OAAO,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAC;gBAEvC,sBAAO,IAAI,EAAC;;;KACb;IAED,6DAA6D;IAC7D,IAAI,EAAE,UAAO,OAAgB,EAAE,EAAuC;YAArC,MAAM,YAAA,EAAE,cAAc,oBAAA,EAAE,WAAW,iBAAA;;;;;;;wBAClE,OAAO,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAC;wBACjC,YAAY,GAAG,CAAC,YAAY,EAAE,QAAQ,EAAE,SAAS,EAAE,eAAe,EAAE,IAAI,EAAE,aAAa,EAAE,YAAY,EAAE,QAAQ,EAAE,gBAAgB,EAAE,OAAO,EAAE,WAAW,EAAE,WAAW,EAAE,YAAY,CAAC,CAAC;wBACpL,eAAe,GAAG,MAAA,MAAA,OAAO,CAAC,IAAI,0CAAE,IAAI,CAAC,KAAK,0CAAE,eAAe,CAAC;wBAClE,KAAW,GAAG,IAAI,eAAe,EAAE;4BACjC,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;gCAC9B,OAAO,eAAe,CAAC,GAAG,CAAC,CAAC;6BAC7B;yBACF;wBACK,YAAY,GAAG;4BACnB,IAAI,EAAE,SAAS;4BACf,QAAQ,EAAE,eAAe;4BACzB,OAAO,EAAE,cAAc;4BACvB,iBAAiB,EAAE,CAAC;4BACpB,gBAAgB,EAAE,QAAQ,CAAC,MAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,gBAAgB,CAAC,IAAI,CAAC;yBAC1D,CAAC;wBAEyB,qBAAM,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,mBAAmB,CAAC,YAAY,CAAC,EAAA;;wBAAjF,kBAAkB,GAAG,SAA4D;6BAEnF,CAAC,CAAA,kBAAkB,aAAlB,kBAAkB,uBAAlB,kBAAkB,CAAE,IAAI,CAAA,EAAzB,wBAAyB;wBAC3B,qBAAM,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAA;;wBAAhC,SAAgC,CAAC;wBACjC,qBAAM,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,EAAA;;wBAAzB,SAAyB,CAAC;;;wBAGtB,cAAc,GAAG,MAAA,MAAA,kBAAkB,aAAlB,kBAAkB,uBAAlB,kBAAkB,CAAE,IAAI,0CAAE,qBAAqB,0CAAE,cAAc,CAAC;6BAEnF,CAAA,MAAA,MAAA,kBAAkB,aAAlB,kBAAkB,uBAAlB,kBAAkB,CAAE,IAAI,0CAAE,cAAc,0CAAE,IAAI,CAAA,EAA9C,wBAA8C;wBAChD,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,MAAA,MAAA,kBAAkB,aAAlB,kBAAkB,uBAAlB,kBAAkB,CAAE,IAAI,0CAAE,cAAc,0CAAE,IAAI,CAAC,CAAC;wBACrE,qBAAM,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,EAAA;;wBAAzB,SAAyB,CAAC;;4BAG5B,sBAAO,cAAc,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,IAAI,EAAC;;;;KAC/C;CACF,CAAC;AAEF,MAAM,CAAC,IAAM,UAAU,GAAG,iBAAiB,CAA4B,MAAM,CAAC,CAAC\"}","dts":{"name":"/home/ucodesoft/Desktop/Adiamor/bagisto_vuestore/vuestorefront/packages/composables/node_modules/.cache/rollup-plugin-typescript2/placeholder/useBilling/index.d.ts","writeByteOrderMark":false,"text":"export declare const useBilling: () => import(\"@vue-storefront/core\").UseBilling<unknown, any, any>;\r\n"}}
