{"code":"import { __awaiter, __generator } from \"tslib\";\r\n/* istanbul ignore file */\r\nimport { useWishlistFactory } from '@vue-storefront/core';\r\nimport { useUser } from '../useUser';\r\nvar params = {\r\n    provide: function () {\r\n        return {\r\n            user: useUser()\r\n        };\r\n    },\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    load: function (context, params) { return __awaiter(void 0, void 0, void 0, function () {\r\n        var wishlistParams, wishlistResult;\r\n        var _a, _b, _c, _d, _e, _f;\r\n        return __generator(this, function (_g) {\r\n            switch (_g.label) {\r\n                case 0:\r\n                    console.log('Mocked: useWishlist.load');\r\n                    wishlistParams = {\r\n                        input: ((_a = params === null || params === void 0 ? void 0 : params.customQuery) === null || _a === void 0 ? void 0 : _a.input) || {},\r\n                        page: ((_b = params === null || params === void 0 ? void 0 : params.customQuery) === null || _b === void 0 ? void 0 : _b.page) || 1\r\n                    };\r\n                    if ((_c = context.user.value) === null || _c === void 0 ? void 0 : _c.id) {\r\n                        wishlistParams.input = { customerId: parseInt((_d = context.user.value) === null || _d === void 0 ? void 0 : _d.id) };\r\n                    }\r\n                    return [4 /*yield*/, context.$bagisto.api.getWishlist(wishlistParams)];\r\n                case 1:\r\n                    wishlistResult = _g.sent();\r\n                    return [2 /*return*/, {\r\n                            results: ((_e = wishlistResult === null || wishlistResult === void 0 ? void 0 : wishlistResult.data) === null || _e === void 0 ? void 0 : _e.wishlists.data) || null,\r\n                            pagination: ((_f = wishlistResult === null || wishlistResult === void 0 ? void 0 : wishlistResult.data) === null || _f === void 0 ? void 0 : _f.wishlists.paginatorInfo) || null\r\n                        }];\r\n            }\r\n        });\r\n    }); },\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    addItem: function (context, _a) {\r\n        var currentWishlist = _a.currentWishlist, product = _a.product;\r\n        return __awaiter(void 0, void 0, void 0, function () {\r\n            var data, addWishlistResults, wishlistResponse;\r\n            var _b;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        console.log('Mocked: useWishlist.addItem');\r\n                        data = {\r\n                            productId: parseInt(product === null || product === void 0 ? void 0 : product.id)\r\n                        };\r\n                        return [4 /*yield*/, context.$bagisto.api.addToWishlist(data)];\r\n                    case 1:\r\n                        addWishlistResults = _c.sent();\r\n                        wishlistResponse = (_b = addWishlistResults === null || addWishlistResults === void 0 ? void 0 : addWishlistResults.data) === null || _b === void 0 ? void 0 : _b.addToWishlist;\r\n                        if (wishlistResponse === null || wishlistResponse === void 0 ? void 0 : wishlistResponse.wishlist) {\r\n                            params.load(context, {});\r\n                            params.isInWishlist(context, { currentWishlist: currentWishlist, product: product });\r\n                        }\r\n                        return [2 /*return*/, (wishlistResponse === null || wishlistResponse === void 0 ? void 0 : wishlistResponse.wishlist) ? wishlistResponse === null || wishlistResponse === void 0 ? void 0 : wishlistResponse.wishlist : null];\r\n                }\r\n            });\r\n        });\r\n    },\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    removeItem: function (context, _a) {\r\n        var currentWishlist = _a.currentWishlist, product = _a.product;\r\n        return __awaiter(void 0, void 0, void 0, function () {\r\n            var data, removeResults, wishlistResponse;\r\n            var _b;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        console.log('Mocked: useWishlist.removeItem');\r\n                        data = { productId: (product === null || product === void 0 ? void 0 : product.productId) ? parseInt(product === null || product === void 0 ? void 0 : product.productId) : parseInt(product === null || product === void 0 ? void 0 : product.id) };\r\n                        return [4 /*yield*/, context.$bagisto.api.removeFromWishlist(data)];\r\n                    case 1:\r\n                        removeResults = _c.sent();\r\n                        wishlistResponse = (_b = removeResults === null || removeResults === void 0 ? void 0 : removeResults.data) === null || _b === void 0 ? void 0 : _b.removeFromWishlist;\r\n                        if (wishlistResponse === null || wishlistResponse === void 0 ? void 0 : wishlistResponse.wishlist) {\r\n                            params.load(context, {});\r\n                            params.isInWishlist(context, { currentWishlist: currentWishlist, product: product });\r\n                        }\r\n                        return [2 /*return*/, (wishlistResponse === null || wishlistResponse === void 0 ? void 0 : wishlistResponse.status) ? wishlistResponse === null || wishlistResponse === void 0 ? void 0 : wishlistResponse.wishlist : null];\r\n                }\r\n            });\r\n        });\r\n    },\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    clear: function (context, _a) {\r\n        var currentWishlist = _a.currentWishlist;\r\n        return __awaiter(void 0, void 0, void 0, function () {\r\n            return __generator(this, function (_b) {\r\n                console.log('Mocked: useWishlist.clear');\r\n                return [2 /*return*/, null];\r\n            });\r\n        });\r\n    },\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    isInWishlist: function (context, _a) {\r\n        var _b;\r\n        var currentWishlist = _a.currentWishlist, product = _a.product;\r\n        if (!product) {\r\n            return false;\r\n        }\r\n        var exist = false;\r\n        var user = (_b = context === null || context === void 0 ? void 0 : context.user) === null || _b === void 0 ? void 0 : _b.user.value;\r\n        if ((currentWishlist === null || currentWishlist === void 0 ? void 0 : currentWishlist.results) && (currentWishlist === null || currentWishlist === void 0 ? void 0 : currentWishlist.results.length) > 0) {\r\n            for (var _i = 0, _c = currentWishlist.results; _i < _c.length; _i++) {\r\n                var wishlistProduct = _c[_i];\r\n                if ((user === null || user === void 0 ? void 0 : user.id) && ((wishlistProduct === null || wishlistProduct === void 0 ? void 0 : wishlistProduct.customerId) === (user === null || user === void 0 ? void 0 : user.id)) && ((wishlistProduct === null || wishlistProduct === void 0 ? void 0 : wishlistProduct.productId) === product.id)) {\r\n                    exist = true;\r\n                    break;\r\n                }\r\n                if (!(user === null || user === void 0 ? void 0 : user.id) && (wishlistProduct === null || wishlistProduct === void 0 ? void 0 : wishlistProduct.productId) === product.id) {\r\n                    exist = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return exist;\r\n    }\r\n};\r\nexport var useWishlist = useWishlistFactory(params);\r\n//# sourceMappingURL=index.js.map","references":["/home/ucodesoft/Desktop/Adiamor/bagisto_vuestore/vuestorefront/node_modules/@vue-storefront/core/lib/src/index.d.ts","/home/ucodesoft/Desktop/Adiamor/bagisto_vuestore/vuestorefront/node_modules/@vue-storefront/bagisto-api/lib/index.d.ts","/home/ucodesoft/Desktop/Adiamor/bagisto_vuestore/vuestorefront/packages/composables/src/useUser/index.ts","/home/ucodesoft/Desktop/Adiamor/bagisto_vuestore/vuestorefront/node_modules/process/index.js"],"map":"{\"version\":3,\"file\":\"index.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/useWishlist/index.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/home/ucodesoft/Desktop/Adiamor/bagisto_vuestore/vuestorefront/packages/composables/node_modules/.cache/rollup-plugin-typescript2/placeholder/useWishlist/index.d.ts","writeByteOrderMark":false,"text":"import type { Product } from '@vue-storefront/bagisto-api';\r\nexport declare const useWishlist: () => import(\"@vue-storefront/core\").UseWishlist<any, any, Product, any>;\r\n"}}
