{"code":"import { __awaiter, __generator } from \"tslib\";\r\nimport { useMakeOrderFactory } from '@vue-storefront/core';\r\nimport { useCart } from '../useCart';\r\nvar factoryParams = {\r\n    provide: function () {\r\n        return {\r\n            cart: useCart(),\r\n        };\r\n    },\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    make: function (context, _a) {\r\n        var customQuery = _a.customQuery;\r\n        return __awaiter(void 0, void 0, void 0, function () {\r\n            var shippingAddress, billingAddress, shippingRate, paymentMethod, orderResults, orderResponse;\r\n            var _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\r\n            return __generator(this, function (_m) {\r\n                switch (_m.label) {\r\n                    case 0:\r\n                        console.log('Mocked: useMakeOrder.make');\r\n                        shippingAddress = (_c = (_b = context === null || context === void 0 ? void 0 : context.cart) === null || _b === void 0 ? void 0 : _b.cart.value) === null || _c === void 0 ? void 0 : _c.shippingAddress;\r\n                        billingAddress = (_e = (_d = context === null || context === void 0 ? void 0 : context.cart) === null || _d === void 0 ? void 0 : _d.cart.value) === null || _e === void 0 ? void 0 : _e.billingAddress;\r\n                        shippingRate = (_g = (_f = context === null || context === void 0 ? void 0 : context.cart) === null || _f === void 0 ? void 0 : _f.cart.value) === null || _g === void 0 ? void 0 : _g.selectedShippingRate;\r\n                        paymentMethod = (_k = (_j = (_h = context === null || context === void 0 ? void 0 : context.cart) === null || _h === void 0 ? void 0 : _h.cart.value) === null || _j === void 0 ? void 0 : _j.payment) === null || _k === void 0 ? void 0 : _k.method;\r\n                        if (!(shippingAddress && billingAddress && shippingRate && paymentMethod)) return [3 /*break*/, 5];\r\n                        return [4 /*yield*/, context.$bagisto.api.makeOrder()];\r\n                    case 1:\r\n                        orderResults = _m.sent();\r\n                        if (!!(orderResults === null || orderResults === void 0 ? void 0 : orderResults.data)) return [3 /*break*/, 4];\r\n                        return [4 /*yield*/, context.cart.setCart(null)];\r\n                    case 2:\r\n                        _m.sent();\r\n                        return [4 /*yield*/, context.cart.load()];\r\n                    case 3:\r\n                        _m.sent();\r\n                        _m.label = 4;\r\n                    case 4:\r\n                        orderResponse = (_l = orderResults === null || orderResults === void 0 ? void 0 : orderResults.data) === null || _l === void 0 ? void 0 : _l.placeOrder;\r\n                        if (!(orderResponse === null || orderResponse === void 0 ? void 0 : orderResponse.redirectUrl) && (orderResponse === null || orderResponse === void 0 ? void 0 : orderResponse.success)) {\r\n                            context.cart.setCart(null);\r\n                        }\r\n                        return [2 /*return*/, (orderResponse === null || orderResponse === void 0 ? void 0 : orderResponse.order) || null];\r\n                    case 5: return [2 /*return*/, null];\r\n                }\r\n            });\r\n        });\r\n    }\r\n};\r\nexport var useMakeOrder = useMakeOrderFactory(factoryParams);\r\n//# sourceMappingURL=index.js.map","references":["/home/ucodesoft/Desktop/Adiamor/bagisto_vuestore/vuestorefront/node_modules/@vue-storefront/core/lib/src/index.d.ts","/home/ucodesoft/Desktop/Adiamor/bagisto_vuestore/vuestorefront/node_modules/@vue-storefront/bagisto-api/lib/index.d.ts","/home/ucodesoft/Desktop/Adiamor/bagisto_vuestore/vuestorefront/packages/composables/src/useCart/index.ts"],"map":"{\"version\":3,\"file\":\"index.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/useMakeOrder/index.ts\"],\"names\":[],\"mappings\":\";AAAA,OAAO,EAEL,mBAAmB,EAEpB,MAAM,sBAAsB,CAAC;AAE9B,OAAO,EAAE,OAAO,EAAE,MAAM,YAAY,CAAC;AAErC,IAAM,aAAa,GAAqC;IACtD,OAAO;QACL,OAAO;YACL,IAAI,EAAE,OAAO,EAAE;SAChB,CAAC;IACJ,CAAC;IACD,6DAA6D;IAC7D,IAAI,EAAE,UAAO,OAAgB,EAAE,EAAe;YAAb,WAAW,iBAAA;;;;;;;wBAC1C,OAAO,CAAC,GAAG,CAAC,2BAA2B,CAAC,CAAC;wBAEnC,eAAe,GAAG,MAAA,MAAA,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,IAAI,0CAAE,IAAI,CAAC,KAAK,0CAAE,eAAe,CAAC;wBAC7D,cAAc,GAAG,MAAA,MAAA,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,IAAI,0CAAE,IAAI,CAAC,KAAK,0CAAE,cAAc,CAAC;wBAC3D,YAAY,GAAG,MAAA,MAAA,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,IAAI,0CAAE,IAAI,CAAC,KAAK,0CAAE,oBAAoB,CAAC;wBAC/D,aAAa,GAAG,MAAA,MAAA,MAAA,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,IAAI,0CAAE,IAAI,CAAC,KAAK,0CAAE,OAAO,0CAAE,MAAM,CAAC;6BAC7D,CAAA,eAAe,IAAI,cAAc,IAAI,YAAY,IAAI,aAAa,CAAA,EAAlE,wBAAkE;wBAC/C,qBAAM,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,SAAS,EAAE,EAAA;;wBAArD,YAAY,GAAG,SAAsC;6BAEvD,CAAC,CAAA,YAAY,aAAZ,YAAY,uBAAZ,YAAY,CAAE,IAAI,CAAA,EAAnB,wBAAmB;wBACrB,qBAAM,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAA;;wBAAhC,SAAgC,CAAC;wBACjC,qBAAM,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,EAAA;;wBAAzB,SAAyB,CAAC;;;wBAGtB,aAAa,GAAG,MAAA,YAAY,aAAZ,YAAY,uBAAZ,YAAY,CAAE,IAAI,0CAAE,UAAU,CAAC;wBAErD,IAAI,CAAC,CAAA,aAAa,aAAb,aAAa,uBAAb,aAAa,CAAE,WAAW,CAAA,KAAI,aAAa,aAAb,aAAa,uBAAb,aAAa,CAAE,OAAO,CAAA,EAAE;4BACzD,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;yBAC5B;wBAED,sBAAO,CAAA,aAAa,aAAb,aAAa,uBAAb,aAAa,CAAE,KAAK,KAAI,IAAI,EAAC;4BAGtC,sBAAO,IAAI,EAAC;;;;KACb;CACF,CAAC;AAEF,MAAM,CAAC,IAAM,YAAY,GAAG,mBAAmB,CAAQ,aAAa,CAAC,CAAC\"}","dts":{"name":"/home/ucodesoft/Desktop/Adiamor/bagisto_vuestore/vuestorefront/packages/composables/node_modules/.cache/rollup-plugin-typescript2/placeholder/useMakeOrder/index.d.ts","writeByteOrderMark":false,"text":"import type { Order } from '@vue-storefront/bagisto-api';\r\nexport declare const useMakeOrder: () => import(\"@vue-storefront/core\").UseMakeOrder<Order, any>;\r\n"}}
